/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /gh/BMSVieira/moovie.js@1.1.6/js/moovie.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
 class Moovie{constructor(e){const t={selector:"defaultId",dimensions:{width:"100%"},config:{storage:{captionOffset:!1,playrateSpeed:!1,captionSize:!1},controls:{playtime:!0,mute:!0,volume:!0,subtitles:!0,config:!0,fullscreen:!0,submenuCaptions:!0,submenuOffset:!0,submenuSpeed:!0,allowLocalSubtitles:!0},i18n:{play:"(Play:Pause)",mute:"(Mute:Unmute)",subtitles:"(Enable:Disable) Subtitles",config:"Settings",fullscreen:"(Enter:Exit) Fullscreen",main_topic:"settings:",main_caption:"Captions",main_offset:"Caption Offset",main_speed:"Speed",main_disabled:"Disabled",main_default:"Default",caption_topic:"Captions:",caption_back:"Back",caption_load:"Load Locally",offset_topic:"Adjust Caption Offset",speed_topic:"Speed Adjust"}},icons:{path:"./icons/"},customEvents:[{type:"",to:"",starttime:"",endtime:"",content:"",position:"",class:""}]};var n=Math.floor(1e4*Math.random())+0;for(var o in null==e.config?e.config=t.config:e.config,null==e.config.controls?e.config.controls=t.config.controls:e.config.controls,t.config.controls)null==e.config.controls[o]?e.config.controls[o]=t.config.controls[o]:e.config.controls[o]=e.config.controls[o];for(var o in null==e.config.storage?e.config.storage=t.config.storage:e.config.storage,t.config.storage)null==e.config.storage[o]?e.config.storage[o]=t.config.storage[o]:e.config.storage[o]=e.config.storage[o];for(var o in null==e.config.i18n?e.config.i18n=t.config.i18n:e.config.i18n,t.config.i18n)null==e.config.i18n[o]?e.config.i18n[o]=t.config.i18n[o]:e.config.i18n[o]=e.config.i18n[o];this.selector=e.selector.substring(1)||t.selector.substring(1),this.dimensions=e.dimensions||t.dimensions,this.config=e.config||t.config,this.i18n=e.config.i18n||t.config.i18n,this.icons=e.icons||t.icons,this.customEvents=e.customEvents||t.customEvents,this.element=document.getElementById(this.selector),this.randomID=n,this.options=e||t,this.events={captions:{name:!1,subtitles:!1},offset:{value:!1}};var i,s,l,a,c,r,u,d,m,p,_,v,g,f,y,h,b,E,L,k,I,S=this,B=0,T=0,x=0,w=1,M=0,C=0,A=0,O=0,H=[],F=this.icons,j=this.config,P=this.dimensions,D=this.selector,N=this.customEvents,q=this.mainmenu=[{name:"play_button",element:"<button class='player__button toggle' id='tooglebutton_"+n+"'><img id='moovie_bplay_"+n+"' src='"+F.path+"play.svg'></button>",opcional:!1,tooltip:this.i18n.play},{name:"progress_bar",element:"<div class='moovie_cuetime' id='moovie_cue_timer_"+n+"'>loading...</div><div id='moovie_moovie_el_progressbar_"+n+"' class='moovie_progress player__slider' top:15px;><input type='range' id='range_progress_"+n+"' class='styled-slider slider-progress' min='0' value='0' step='0.01' autocomplete='off' style='width: 100%; cursor:pointer;' /><canvas id='moovie_buffered_"+n+"' style='position: absolute; bottom: 14px; left: 0; opacity: 0.4;  width: 100%; height:5px;'></canvas></div>",opcional:!1,tooltip:!1},{name:"playtime",element:"<div id='moovie_el_current_"+n+"' class='player__button player_button_disabled moovie_currentime'><span id='moovie_currentime_"+n+"'>00:00</span> / <span id='moovie_fulltime_"+n+"'></span></div>",opcional:!0,tooltip:!1},{name:"mute",element:"<button id='mooviegrid_mute_"+n+"' class='player__button'><img id='icon_volume_"+n+"' src='"+F.path+"volume.svg'></button>",opcional:!0,tooltip:this.i18n.mute},{name:"volume",element:"<input type='range' id='mooviegrid_volume_"+n+"' style='max-width:100px; min-width:50px;' name='volume' class='moovie_progress_sound' min=0 max='1' step='0.01' value='1'>",opcional:!0,tooltip:!1},{name:"subtitles",element:"<button id='moovie_subtitle_"+n+"' style='margin-left:5px' class='player__button'><img class='opacity_svg' id='moovie_subtitle_svg_"+n+"' src='"+F.path+"cc.svg'></button>",opcional:!0,tooltip:this.i18n.subtitles},{name:"config",element:"<button id='moovie_el_cog_"+n+"' class='player__button'><img src='"+F.path+"cog.svg'></button>",opcional:!0,tooltip:this.i18n.config},{name:"fullscreen",element:"<button id='fullscreen_"+n+"' class='player__button fullscreen_button'><img src='"+F.path+"fullscreen.svg'></button>",opcional:!0,tooltip:this.i18n.fullscreen},{name:"Main Submenu",element:"<div style='display:none;' class='moovie_submenu menuclosed' id='moovie_submenu_"+n+"'></div>",opcional:!1,tooltip:!1}],z=this.submenu={mainSubmenu:{mainElement:"<ul id='moovie_submenu_main_"+n+"'></ul>",parentID:"moovie_submenu_main_",elements:[{name:"topic",element:"<li class='topic_submenu'>"+this.i18n.main_topic+"</li>",opcional:!1},{name:"submenuCaptions",element:"<li id='this.moovie_el_topicCaption_"+n+"'><span>"+this.i18n.main_caption+"</span><span class='option_submenu' id='option_submenu_caption_"+n+"'>"+this.i18n.main_disabled+"</span></li>",opcional:!0},{name:"submenuOffset",element:"<li id='moovie_el_capoffset_"+n+"'><span >"+this.i18n.main_offset+"</span><span class='option_submenu' id='option_submenu_range_"+n+"'>0s</span></li>",opcional:!0},{name:"submenuSpeed",element:"<li id='topic_submenu_speed_"+n+"'><span>"+this.i18n.main_speed+"</span><span class='option_submenu' id='option_submenu_speed_"+n+"'>"+this.i18n.main_default+"</span></li>",opcional:!0}]},captionSubmenu:{mainElement:"<ul style='display:none;' id='moovie_submenu_captions_"+n+"'><input style='display:none;' type='file' id='localsub_"+n+"'><li class='topic_submenu'>"+this.i18n.caption_topic+"</li><li id='moovie_el_capback_"+n+"' style='font-weight:bold;'>"+this.i18n.caption_back+"</li></ul>",parentID:"moovie_submenu_captions_",elements:[{name:"allowLocalSubtitles",element:"<li id='locally_"+n+"' style='font-weight:bold;'>"+this.i18n.caption_load+"</li>",opcional:!0}]},rangeSubmenu:{mainElement:"<ul style='display:none; width:250px;' id='moovie_range_captions_"+n+"'><li class='topic_submenu'>"+this.i18n.offset_topic+"<output style='position:absolute; right:22px;' id='valoffset_"+n+"'>0</output></li><li class='topic_submenu'><span>-5s</span><span style='float: right;'>+5s</span><input type='range' oninput='valoffset_"+n+".value = offset_range_input_"+n+".value' id='offset_range_input_"+n+"' min='-5' max='5' step='0.2'></li>",parentID:"moovie_range_captions_"},speedSubmenu:{mainElement:"<ul style='display:none; width:250px;' id='moovie_range_speed_"+n+"'><li class='topic_submenu'>"+this.i18n.speed_topic+"<output style='position:absolute; right:22px;' id='valoffset_speed_"+n+"'>1</output></li><li class='topic_submenu'><span>0.1x</span><span style='float: right;'>8x</span><input type='range' value='1' oninput='valoffset_speed_"+n+".value = offset_range_speed_"+n+".value' id='offset_range_speed_"+n+"' min='0.1' max='8' step='0.1'></li>",parentID:"moovie_range_speed_"}};let R=new CustomEvent("captionchange",{detail:this.events.captions,bubbles:!1,cancelable:!1,composed:!1}),V=new CustomEvent("offsetchange",{detail:this.events.offset,bubbles:!1,cancelable:!1}),W=new CustomEvent("togglecaption",{detail:this.events.captions,bubbles:!1,cancelable:!1});function K(e,t){var n;return function(){var o=this,i=arguments,s=function(){n=!1};n||(e.apply(o,i),n=!0,setTimeout(s,t))}}var X=this.handleCustomEvents=function(){for(var e=0;e<N.length;e++){let t=N[e].to,n=Math.floor(1e4*Math.random())+0;if(N[e].hasOwnProperty("fired")&&N[e].fired)s.currentTime>N[e].endtime&&(N[e].fired=!1,document.getElementById("moovie_ce_"+N[e].eventID).remove());else if(s.currentTime>N[e].starttime&&s.currentTime<N[e].endtime){Object.assign(N[e],{fired:!0}),Object.assign(N[e],{eventID:n}),y.insertAdjacentHTML("beforeend","<div id='moovie_ce_"+n+"' class='moovie_cevent "+N[e].position+" "+N[e].class+"'>"+N[e].content+"</div>");let o=document.getElementById("moovie_ce_"+n);switch(N[e].type){case"skip":N[e].to<=s.duration&&!isNaN(N[e].to)&&N[e].to&&o.addEventListener("click",(function(){var e;e=t,S.video.currentTime=e,S.moovie_el_progressbar.value=e}));break;case"redirect":N[e].to&&o.addEventListener("click",(function(){window.location.href=t}));break;case"function":N[e].to&&o.addEventListener("click",(function(){t()}));break;default:console.log("No action was added to this event")}}}},G=this.handleStorage=function(e,t,o){switch(e){case"set":localStorage.setItem(t,o);break;case"get":break;case"setStorage":j.storage.captionOffset&&(u.value=localStorage.getItem("captionOffset"),ae()),j.storage.playrateSpeed&&(r.value=localStorage.getItem("playrateSpeed"),ce()),j.storage.captionSize&&(document.getElementById("caption_track_"+n).style.fontSize=localStorage.getItem("captionSize")+"px")}},U=this.togglePlay=function(){document.getElementById("poster_layer_"+n).style.backgroundImage="none",1==s.paused?(s.play(),document.getElementById("moovie_bplay_"+n).src=F.path+"pause.svg",Z("hide"),me("play_button",1)):(s.pause(),document.getElementById("moovie_bplay_"+n).src=F.path+"play.svg",Z("show"),me("play_button",0))},Y=this.SetFullScreen=function(e){switch(e){case"toggleFullscreen":v.requestFullscreen?v.requestFullscreen():v.webkitRequestFullscreen?v.webkitRequestFullscreen():v.msRequestFullscreen&&v.msRequestFullscreen(),me("fullscreen",1),1>=outerHeight-innerHeight&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),me("fullscreen",0)),ve("CAll");break;case"checkFullscreen":1>=outerHeight-innerHeight?me("fullscreen",1):me("fullscreen",0)}};function J(){var e,t,n=l.getContext("2d"),o=S.video.buffered,i=o.length,s=l.width,a=l.height,c=S.video.duration;for(n.clearRect(0,0,s,a),n.fillStyle="#e1e1dd";i--;)e=o.start(i)/c*s,t=o.end(i)/c*s,n.fillRect(e,0,t-e,a);setTimeout(J,500)}function Q(){s.focus()}function Z(e){"show"==e?(h.style.display="block",h.classList.remove("posteroff"),h.classList.add("posteron")):"hide"==e&&(h.style.display="none",h.classList.remove("posteron"),h.classList.add("posteroff"))}function $(){s[this.name]=this.value}function ee(e,t){switch(t){case"left":var n=s.currentTime;s.currentTime=n-e;var o=L.value;L.value=Number(o)-5;break;case"right":n=s.currentTime;s.currentTime=n+e;o=L.value;L.value=Number(o)+5}}function te(e){x=function(e){return e.offsetX/e.target.clientWidth*parseInt(e.target.getAttribute("max"))}(e).toFixed(2),_.style.opacity="1",_.style.left=e.offsetX+"px",_.innerHTML=oe(x)}function ne(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}function oe(e){var t=new Date(1970,0,1);t.setSeconds(e);var n=t.toTimeString().substr(0,8);return e>86399&&(n=Math.floor((t-Date.parse("1/1/70"))/36e5)+n.substr(2)),e<3600&&(n=n.substring(3)),n}function ie(){0==C&&(document.getElementById("moovie_currentime_"+n).innerHTML=oe(s.currentTime)),s.currentTime>=s.duration&&(s.currentTime=0,L.value=0,U())}function se(){const e=[".vtt",".srt"];new Promise((async function(t,o){const i=document.querySelector("#localsub_"+n).files[0];var s=i.name.substr(i.name.length-4);if(e.includes(s)){document.querySelectorAll("#moovie_submenu_captions_"+n+" .caption_track").forEach((e=>{e.remove()}));const e=await(e=>new Promise(((t,n)=>{const o=new FileReader;o.readAsDataURL(e),o.onload=()=>t(o.result),o.onerror=e=>n(e)})))(i);let o=i.name.substring(0,10);document.getElementById(D).insertAdjacentHTML("beforeend","<track label='"+o+"...' format='"+s+"' srclang='Local' src='"+e+"'>"),t()}else console.log("Only .vtt and .srt formats are allowed.")})).then((function(){he(),console.log("Local caption added successfully.")}))}var le=K((function(){if(J(),!s.paused){var e=L.value;L.value=Number(e)+1}}),1e3),ae=this.OffsetChange=function(){A=document.getElementById("offset_range_input_"+n).value,document.getElementById("option_submenu_range_"+n).innerHTML=A+"s",document.getElementById("valoffset_"+n).value=A,j.storage.captionOffset&&G("set","captionOffset",A),S.events.offset.value=A,S.video.dispatchEvent(V)},ce=this.SpeedChange=function(){w=document.getElementById("offset_range_speed_"+n).value,document.getElementById("valoffset_speed_"+n).value=w,document.getElementById("option_submenu_speed_"+n).innerHTML=1==w?S.i18n.main_default:w+"x",s.playbackRate=w,j.storage.playrateSpeed&&G("set","playrateSpeed",w)};function re(e){if(ne()){if(null==(t=document.getElementById("range_progress_"+n).value)){let n=(t=e.touches[0].clientX)/g.offsetWidth*s.duration;n>=s.duration&&(n=s.duration),s.currentTime=n}else s.currentTime=t}else{var t;let n=(t=e.offsetX)/g.offsetWidth*s.duration;n>=s.duration&&(n=s.duration),s.currentTime=n}}function ue(e){s.volume=c.value,G("set","scrubsound",s.volume),_e("checkMute")}function de(e){"close"==e?0==O&&0==s.paused&&(ve("CAll"),document.getElementById("moovie__controls_"+n).style.opacity=0,document.getElementById("caption_track_"+n).style.marginBottom="0px"):"open"==e&&1==T&&(document.getElementById("caption_track_"+n).style.marginBottom="40px",document.getElementById("moovie__controls_"+n).style.opacity=1)}var me=S.ChangeTooltip=function(e,t){let n=S.tooltips_menu[e].element;for(var o=0,s=0;s<S.mainmenu.length;s++)S.mainmenu[s].name==e&&(o=S.mainmenu[s].tooltip);if(o.indexOf("(")>-1){var l=o.substring(o.lastIndexOf("(")+1,o.lastIndexOf(")"));i=l.split(":");var a=o.replace(/\(.*\)/,"");a=a.replace(" ","");var c=i[t]+" "+a}c&&(n.innerText=c);let r=n.offsetWidth/2-7;if(n.style.marginLeft="-"+r+"px",n.offsetLeft+n.offsetWidth>=S.moovie_el_controlbar.offsetWidth){let e=n.offsetLeft+n.offsetWidth-S.moovie_el_controlbar.offsetWidth;e=r+e+5,n.style.marginLeft="-"+e+"px"}n.offsetLeft<=0&&(n.style.marginLeft="-19px")},pe=this.ActivateSubtitles=function(){1==M?0==B?(B=1,document.getElementById("moovie_subtitle_svg_"+n).classList.remove("opacity_svg"),me("subtitles",1),S.events.captions.subtitles=!0):1==B&&(B=0,document.getElementById("moovie_subtitle_svg_"+n).classList.add("opacity_svg"),me("subtitles",0),S.events.captions.subtitles=!1):console.log("You must choose an Subtitle first."),S.video.dispatchEvent(W)},_e=this.checkSoundLevel=function e(t){switch(t){case"checkMute":s.muted||0==s.volume?(s.muted=!1,c.value=localStorage.getItem("scrubsound"),s.volume=localStorage.getItem("scrubsound"),document.getElementById("icon_volume_"+n).src=F.path+"mute.svg",me("mute",1)):(document.getElementById("icon_volume_"+n).src=F.path+"volume.svg",me("mute",0));break;case"toogleMute":1==s.muted?e("unmutePlayer"):e("mutePlayer");break;case"checkStorage":localStorage.getItem("scrubsound")?(c.value=localStorage.getItem("scrubsound"),s.volume=localStorage.getItem("scrubsound")):(c.value="1",s.muted=!1,G("set","scrubsound",1)),e("checkMute");break;case"mutePlayer":s.muted=!0,s.volume=0,document.getElementById("icon_volume_"+n).src=F.path+"mute.svg",document.getElementById("mooviegrid_volume_"+n).value="0",me("mute",1);break;case"unmutePlayer":s.muted=!1,e("checkMute"),localStorage.getItem("scrubsound")?c.value=localStorage.getItem("scrubsound"):c.value="1",me("mute",0),0!=s.volume&&(document.getElementById("icon_volume_"+n).src=F.path+"volume.svg")}},ve=this.Submenu=function(e){switch(e){case"toggleSubmenu":I.style.display="block",k.style.display="none",p.style.display="none",d.style.display="none",b.classList.contains("menuclosed")?(b.style.display="block",b.classList.add("menuopen"),b.classList.remove("menuclosed"),O=1):(b.style.display="none",b.classList.add("menuclosed"),b.classList.remove("menuopen"),O=0);break;case"CAll":I.style.display="none",k.style.display="none",p.style.display="none",d.style.display="none",b.classList.add("menuclosed"),O=0;break;case"OCaption":I.style.display="none",k.style.display="block";break;case"CCaption":I.style.display="block",k.style.display="none";break;case"OSpeed":I.style.display="none",document.getElementById("moovie_range_speed_"+n).style.display="block";break;case"ORange":I.style.display="none",document.getElementById("moovie_range_captions_"+n).style.display="block"}},ge=this.TransformPlayer=function(e){y.offsetWidth<=460?(C=1,document.getElementById("moovie_el_current_"+n).style.display="none",document.getElementById("moovie_moovie_el_progressbar_"+n).classList.add("responsive_bar"),_.classList.add("moovie_cuetime_small")):(C=0,document.getElementById("moovie_el_current_"+n).style.display="block",document.getElementById("moovie_moovie_el_progressbar_"+n).classList.remove("responsive_bar"),document.getElementById("moovie_fulltime_"+n).innerHTML=oe(s.duration),_.classList.remove("moovie_cuetime_small"))},fe=this.SetCaptionSize=function(e){const t=document.getElementById("caption_track_"+n);var o=window.getComputedStyle(t).fontSize;if(e)"sizeUp"==e?(o=o.slice(0,-2),o=Number(o)+Number(1),t.style.fontSize=o+"px"):"sizeDown"==e&&(o=o.slice(0,-2),o=Number(o)-Number(1),t.style.fontSize=o+"px"),j.storage.captionSize&&G("set","captionSize",o);else{var i=.1*y.offsetWidth;t.style.fontSize=i+"%",t.style.lineHeight=i/3+"px"}},ye=this.PlayCaption=function(e){function t(){for(var e=1;e<H.length;e++)if(null!=H[e].starttime&&null!=H[e].endtime){var t=H[e].starttime,o=H[e].endtime;if(A>=0)var i=s.currentTime-A;else{var l=String(A).substring(1);i=s.currentTime+Number(l)}a=void 0,c=void 0,r=void 0,u=void 0,d=void 0,m=void 0,a=function(e,t){return("000"+e).slice(-1*t)},c=parseFloat(i).toFixed(3),r=Math.floor(c/60/60),u=Math.floor(c/60)%60,d=Math.floor(c-60*u),m=c.slice(-3),(i=a(r,2)+":"+a(u,2)+":"+a(d,2)+"."+a(m,3))>=t&&i<=o&&1==B&&(null!=H[e].text2?document.getElementById("caption_track_"+n).innerHTML=H[e].text1+"<br>"+H[e].text2:document.getElementById("caption_track_"+n).innerHTML=H[e].text1),i>o&&(document.getElementById("caption_track_"+n).innerHTML="")}var a,c,r,u,d,m}H=[];var o=new XMLHttpRequest;if(o.open("GET",e.attributes.src.nodeValue,!0),e.attributes.format)var l=e.attributes.src.nodeValue+e.attributes.format.nodeValue;else l=e.attributes.src.nodeValue;S.events.captions.name=e.attributes.label.nodeValue,o.onload=function(){if(this.status>=200&&this.status<400){var e=this.response;e=e.replace(/(\r\n|\r|\n)/g,"\n");var t=l.substr(l.length-4);".srt"==t&&(e="STR\n\n"+e),e.split("\n\n").map((function(e){var n,o,s;null!=(i=e.split("\n"))[1]?isNaN(i[0])?(n=i[0].replace(/-/g,"")).replace(/ /g,"")&&(".srt"==t&&(n=i[0].replace(/,/g,".")),o=(o=n.substr(0,n.indexOf(">"))).replace(/ /g,""),s=(s=n.split(">",2))[1].replace(/ /g,""),o=o.replace(/--/g,""),s=s.replace(/--/g,""),".srt"==t&&(s=s.replace(/,/g,"."),o=o.replace(/,/g,".")),H.push({starttime:o,endtime:s,text1:i[1],text2:i[2]})):(n=i[1].replace(/-/g,"")).replace(/ /g,"")&&(o=(o=n.substr(0,n.indexOf(">"))).replace(/ /g,""),s=(s=n.split(">",2))[1].replace(/ /g,""),".srt"==t&&(s=s.replace(/,/g,"."),o=o.replace(/,/g,".")),H.push({starttime:o,endtime:s,text1:i[2],text2:i[3]})):H.push({starttime:void 0,endtime:void 0,text1:void 0,text2:void 0})}))}},o.send(),s.addEventListener("timeupdate",t,!0),1==M?s.removeEventListener("timeupdate",t,!0):(M=1,pe()),S.video.dispatchEvent(R)},he=(this.SetCaptions=function(e){let t=e.attributes.src.nodeValue.substr(e.attributes.src.nodeValue.length-4),o=e.track.label;var i=Math.floor(1e4*Math.random())+0;e.attributes.format&&(t=e.attributes.format.nodeValue),k.insertAdjacentHTML("beforeend","<li class='caption_track' id='captionid_"+i+"'><span>"+o+"</span><span class='labelformat'>"+t+"</span></li>"),document.getElementById("captionid_"+i).addEventListener("click",(function(){ye(e),document.getElementById("option_submenu_caption_"+n).innerHTML=o,ve("toggleSubmenu")}))},this.GetCaptions=function(){for(var e=document.getElementById(S.selector).getElementsByTagName("track"),t=0;t<e.length;t++)S.SetCaptions(e[t])});this.Keybinds=function(){const e={keycode_32(){U()},keycode_75(){U()},keycode_70(){Y("toggleFullscreen")},keycode_39(){ee(5,"right")},keycode_37(){ee(5,"left")},keycode_77(){_e("toogleMute")},keycode_67(){pe()},keycode_shift87(){fe("sizeUp")},keycode_shift83(){fe("sizeDown")}};s.addEventListener("keydown",(function(t){let n;(32==t.keyCode||t.shiftKey&&87==t.keyCode||t.shiftKey&&83==t.keyCode)&&t.preventDefault(),n=t.shiftKey?e["keycode_shift"+t.keyCode]:e["keycode_"+t.keyCode],n&&n()}))},this.SetupLogic=function(){if(v=document.querySelector("#moovie__video_"+n),s=v.querySelector("#moovie_vid_"+n),this.video=s,s.addEventListener("loadedmetadata",(e=>{this.medialoading.style.display="none",E.style.opacity=1,T=1,L.setAttribute("max",s.duration),0==C&&(document.getElementById("moovie_fulltime_"+n).innerHTML=oe(s.duration)),J(),G("setStorage"),_e("checkStorage")})),s.addEventListener("timeupdate",le),s.addEventListener("timeupdate",ie),s.addEventListener("timeupdate",X),v.addEventListener("click",Q),(f=v.querySelector(".fullscreen_button")).addEventListener("click",(function(){Y("toggleFullscreen")}),!0),document.addEventListener("fullscreenchange",(function(){Y("checkFullscreen")}),!0),v.querySelector(".toggle").addEventListener("click",U),v.querySelectorAll(".player__slider").forEach((e=>e.addEventListener("change",$))),this.moovie_el_rangeinput.addEventListener("change",ae),this.moovie_el_speedinput.addEventListener("change",ce),c=document.getElementById("mooviegrid_volume_"+n),document.getElementById("mooviegrid_mute_"+n).addEventListener("click",(function(){_e("toogleMute")}),!1),g=v.querySelector(".moovie_progress"),this.control_buttons.config.addEventListener("click",(function(){ve("toggleSubmenu")}),!0),this.moovie_el_topicCaption.addEventListener("click",(function(){ve("OCaption")}),!0),this.moovie_el_topicSpeed.addEventListener("click",(function(){ve("OSpeed")}),!0),this.moovie_el_capback.addEventListener("click",(function(){ve("CCaption")}),!0),this.control_buttons.subtitles.addEventListener("click",pe),y.addEventListener("mouseleave",(function(){ve("CAll")}),!1),this.moovie_el_capoffset.addEventListener("click",(function(){ve("ORange")}),!0),ne()){"ios"==function(){const e=navigator.userAgent;return/android/i.test(e)?"android":/iPad|iPhone|iPod/i.test(e)?"ios":void 0}()&&(this.moovie_el_volume.style.display="none",f.style.display="none",s.style.transformStyle="preserve-3d"),L.addEventListener("touchmove",(function(e){re(e),s.pause()})),L.addEventListener("change",(function(e){re(e),s.pause()||U(),Z("hide")}),!1),h.addEventListener("touchend",(function(e){s.pause()||U()})),c.addEventListener("touchmove",(function(e){ue()})),c.addEventListener("change",(function(e){ue()}),!1),a.style.display="none";e=null;y.addEventListener("touchstart",(t=>{clearTimeout(e),de("open"),e=setTimeout((function(){de("close")}),4e3)})),y.addEventListener("touchmove",(t=>{clearTimeout(e)})),y.addEventListener("touchend",(t=>{clearTimeout(e),e=setTimeout((function(){de("close")}),4e3)}))}else{let t=!1;g.addEventListener("click",re),g.addEventListener("mousemove",(e=>t&&re(e))),c.addEventListener("click",ue);let o=!1;c.addEventListener("mousemove",(e=>o&&ue())),c.addEventListener("mousedown",(()=>o=!0)),c.addEventListener("mouseup",(()=>o=!1)),(h=v.querySelector("#poster_layer_"+n)).addEventListener("click",U),s.addEventListener("click",U),a.addEventListener("click",(function(){m.click()}),!0),m.addEventListener("change",se),document.getElementById("range_progress_"+n).addEventListener("mousemove",(function(e){te(e)})),document.getElementById("range_progress_"+n).addEventListener("mouseleave",(function(e){_.style.opacity=0})),g.addEventListener("mousedown",(()=>t=!0)),g.addEventListener("mouseup",(()=>t=!1)),E.addEventListener("mouseover",(e=>{O=1})),E.addEventListener("mouseleave",(e=>{O=0})),L.addEventListener("input",(function(e){s.pause()}),!1),L.addEventListener("change",(function(e){U(),Z("hide")}),!1),de("close");var e=null;y.addEventListener("mousemove",(t=>{clearTimeout(e),de("open"),e=setTimeout((function(){de("close")}),2e3)})),y.addEventListener("mouseleave",(t=>{clearTimeout(e),de("close")}))}},this.SetupMenu=function(){for(var e=0;e<q.length;e++)null!=this.config.controls[q[e].name]&&1==this.config.controls[q[e].name]||0==q[e].opcional?E.insertAdjacentHTML("beforeend",q[e].element):E.insertAdjacentHTML("beforeend","<div style='display:none;'>"+q[e].element+"</div>");var t=this.tooltips_menu=[];for(e=0;e<q.length;e++)if(q[e].tooltip){let o=(new DOMParser).parseFromString(q[e].element,"text/html");document.getElementById(o.body.firstChild.id).insertAdjacentHTML("beforeend","<div id='moovie_"+q[e].name+"_tooltip_"+n+"' class='moovie_tooltip'>"+q[e].tooltip+"</div>");document.getElementById(o.body.firstChild.id);let i=document.getElementById("moovie_"+q[e].name+"_tooltip_"+n);t[q[e].name]={element:i},this.ChangeTooltip(q[e].name,0)}b=document.getElementById("moovie_submenu_"+n);for(let t in z)if(b.insertAdjacentHTML("beforeend",z[t].mainElement),z[t].hasOwnProperty("elements"))for(e=0;e<z[t].elements.length;e++)null!=this.config.controls[z[t].elements[e].name]&&1==this.config.controls[z[t].elements[e].name]||0==z[t].elements[e].opcional?document.getElementById(z[t].parentID+n).insertAdjacentHTML("beforeend",z[t].elements[e].element):document.getElementById(z[t].parentID+n).insertAdjacentHTML("beforeend","<div style='display:none;'>"+z[t].elements[e].element);L=document.getElementById("range_progress_"+n),k=document.getElementById("moovie_submenu_captions_"+n),d=document.getElementById("moovie_range_captions_"+n),p=document.getElementById("moovie_range_speed_"+n),this.moovie_el_topicCaption=document.getElementById("this.moovie_el_topicCaption_"+n),this.moovie_el_topicSpeed=document.getElementById("topic_submenu_speed_"+n),this.moovie_el_capback=document.getElementById("moovie_el_capback_"+n),this.moovie_el_capoffset=document.getElementById("moovie_el_capoffset_"+n),this.moovie_el_speedinput=r=document.getElementById("offset_range_speed_"+n),this.moovie_el_rangeinput=u=document.getElementById("offset_range_input_"+n),this.moovie_el_progressbar=L,this.moovie_el_volume=document.getElementById("mooviegrid_volume_"+n),this.moovie_el_cuetimer=_=document.getElementById("moovie_cue_timer_"+n),this.moovie_el_submenuBase=b,this.moovie_el_localsub=m=document.getElementById("localsub_"+n),this.moovie_el_locally=a=document.getElementById("locally_"+n),this.moovie_el_submain=I=document.getElementById("moovie_submenu_main_"+n),this.moovie_el_buffered=l=document.getElementById("moovie_buffered_"+n),this.control_buttons={play:this.moovie_el_play=document.getElementById("tooglebutton_"+n),mute:this.moovie_el_mute=document.getElementById("mooviegrid_mute_"+n),subtitles:this.moovie_el_subtitles=document.getElementById("moovie_subtitle_"+n),config:this.moovie_el_cog=document.getElementById("moovie_el_cog_"+n),fullscreen:this.moovie_el_fullscreen=document.getElementById("fullscreen_"+n)}},this.SetupPlayer=function(){var e=this.element.getAttribute("src");null==e&&null!=this.element.getElementsByTagName("source")[0]?e=this.element.getElementsByTagName("source")[0].src:console.log("No video source found. Read documentation to a add video source dynamically.");var t=document.getElementById(this.selector).getAttribute("poster");this.element.style.display="none",this.element.insertAdjacentHTML("afterend","<div style='width:"+P.width+"' id='moovie__video_"+n+"' class='moovie'></div>"),this.moovie_el_video=y=document.getElementById("moovie__video_"+n),y.insertAdjacentHTML("beforeend","<video tabindex='1' id='moovie_vid_"+n+"' preload='auto' class='player__video viewer' style='width:100%; height:100%;' src='"+e+"' playsinline></video>"),y.insertAdjacentHTML("beforeend","<div style='opacity:0;' id='moovie__controls_"+n+"' class='moovie_controls'></div>"),this.moovie_el_controlbar=E=document.getElementById("moovie__controls_"+n),y.insertAdjacentHTML("afterbegin","<div id='medialoading_"+n+"' class='loadingv'><div class='loading animated fadeIn'><div class='moovie_bg'></div></div></div><div class='poster_layer posteron' id='poster_layer_"+n+"'></div>"),this.medialoading=document.getElementById("medialoading_"+n),this.moovie_el_poster=h=document.getElementById("poster_layer_"+n),h.insertAdjacentHTML("afterbegin","<div class='poster_center' id='poster_center_"+n+"' style=''></div>"),document.getElementById("poster_center_"+n).insertAdjacentHTML("afterbegin","<div class='poster_button'><img src='"+F.path+"play.svg' style='width: 24px; position: relative; left: 3px;'></div>"),null!=t&&(h.style.backgroundImage="url("+t+")",h.style.backgroundSize="100%"),y.insertAdjacentHTML("beforeend","<div class='moovie_captionspot caption_size'><p class='moovie_caption' id='caption_track_"+n+"'></p></div>"),this.SetupMenu(),this.SetupLogic(),this.GetCaptions(),this.Keybinds(),fe(),ge()};this.SetupPlayer();var be=K((function(){fe(),ge()}),100);window.addEventListener("resize",be)}togglePlay(){this.togglePlay()}toggleSubtitles(){this.ActivateSubtitles()}toggleFullscreen(){this.SetFullScreen("toggleFullscreen")}destroy(){this.moovie_el_video.remove()}build(){this.SetupPlayer()}addTrack(e){if(e.options&&"object"==typeof e.options){for(var t=Object.keys(e.options).length,n=0;n<t;n++){var o,i,s;o=e.options[n].label?"label='"+e.options[n].label+"'":"label='New Subtitle'",i=e.options[n].srclang?"srclang='"+e.options[n].srclang+"'":"srclang='New'",(s=e.options[n].src?"src='"+e.options[n].src+"'":"")?document.getElementById(this.selector).insertAdjacentHTML("beforeend","<track "+o+" "+i+" "+s+">"):console.log("Error, 'src' can not be empty.")}document.querySelectorAll("#moovie_submenu_captions_"+this.randomID+" .caption_track").forEach((e=>{e.remove()})),this.GetCaptions(),"function"==typeof e.onComplete&&"function"==typeof(l=e.onComplete)&&l()}else console.error("Options must be and Object. Read documentation.");var l}change(e){var t;e.video&&"object"==typeof e.video?(e.video.videoSrc&&(this.video.pause(),this.video.src=e.video.videoSrc),e.video.posterSrc&&(this.element.setAttribute("poster",e.video.posterSrc),this.moovie_el_poster.style.backgroundImage="url("+e.video.posterSrc+")"),e.captions&&"object"==typeof e.captions&&e.captions.clearCaptions&&document.querySelectorAll("#moovie_submenu_captions_"+this.randomID+" .caption_track").forEach((e=>{e.remove()})),"function"==typeof e.onComplete&&"function"==typeof(t=e.onComplete)&&t()):console.error("Options must be and Object. Read documentation.")}get playerElement(){return this.video}get playing(){return Boolean(this.video.ready&&!this.video.paused&&!this.video.ended)}get paused(){return Boolean(this.video.paused)}get stopped(){return Boolean(this.video.paused&&0===this.video.currentTime)}get ended(){return Boolean(this.video.ended)}get duration(){const e=parseFloat(this.video.duration),t=(this.video.media||{}).duration;return e||(t||t===1/0?0:t)}get seeking(){return Boolean(this.video.seeking)}get currentTime(){return Number(this.video.currentTime)}get volume(){return this.video.volume}get muted(){return Boolean(this.video.muted)}get speed(){return Number(this.video.playbackRate)}get minimumSpeed(){return.1}get maximumSpeed(){return 8}get minimumOffset(){return-5}get maximumOffset(){return 5}get source(){return this.video.currentSrc}get captionOffset(){return this.moovie_el_rangeinput.value}set currentTime(e){this.video.currentTime=e,this.moovie_el_progressbar.value=e}set volume(e){this.video.volume=e,this.moovie_el_volume.value=e,this.checkSoundLevel("checkMute")}set speed(e){if(e<-.1||e>8)return"Value must be between -0.1 and 8";this.video.playbackRate=e,this.moovie_el_speedinput.value=e,this.SpeedChange()}set captionOffset(e){if(e<-5||e>5)return"Value must be between -5 and 5";this.moovie_el_rangeinput.value=e,this.OffsetChange()}set source(e){this.video.pause(),this.video.src=e,this.video.play()}set muted(e){e?this.checkSoundLevel("mutePlayer"):this.checkSoundLevel("unmutePlayer")}}try{module.exports=exports=Moovie}catch(e){}
